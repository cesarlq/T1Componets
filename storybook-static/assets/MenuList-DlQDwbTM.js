import{r as f}from"./index-BXymfbzT.js";import{j as v}from"./jsx-runtime-DoEZbXM1.js";import{u as F}from"./useEnhancedEffect-CmoGJv52.js";import{g as j,o as H,b as U}from"./Typography-C5wZEALe.js";import{u as A}from"./createSimplePaletteValueFilter-Bi9b2Xgg.js";import{s as N,c as z}from"./styled-aNEffR3I.js";import{g as O}from"./defaultTheme-UNuJapAP.js";import{g as W}from"./generateUtilityClasses-DmTfqs8F.js";import{u as $}from"./DefaultPropsProvider-B6e4UF29.js";import{c as B}from"./composeClasses-CAXbtk_0.js";function oe(t,e=166){let s;function c(...a){const h=()=>{t.apply(this,a)};clearTimeout(s),s=setTimeout(h,e)}return c.clear=()=>{clearTimeout(s)},c}const V=f.createContext({});function q(t){return O("MuiList",t)}W("MuiList",["root","padding","dense","subheader"]);const G=t=>{const{classes:e,disablePadding:s,dense:c,subheader:a}=t;return B({root:["root",!s&&"padding",c&&"dense",a&&"subheader"]},q,e)},J=N("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.disablePadding&&e.padding,s.dense&&e.dense,s.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:t})=>!t.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:t})=>t.subheader,style:{paddingTop:0}}]}),Q=f.forwardRef(function(e,s){const c=$({props:e,name:"MuiList"}),{children:a,className:h,component:d="ul",dense:n=!1,disablePadding:m=!1,subheader:g,...b}=c,x=f.useMemo(()=>({dense:n}),[n]),C={...c,component:d,dense:n,disablePadding:m},p=G(C);return v.jsx(V.Provider,{value:x,children:v.jsxs(J,{as:d,className:z(p.root,h),ref:s,ownerState:C,...b,children:[g,a]})})});function L(t,e,s){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:s?null:t.firstChild}function E(t,e,s){return t===e?s?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:s?null:t.lastChild}function K(t,e){if(e===void 0)return!0;let s=t.innerText;return s===void 0&&(s=t.textContent),s=s.trim().toLowerCase(),s.length===0?!1:e.repeating?s[0]===e.keys[0]:s.startsWith(e.keys.join(""))}function w(t,e,s,c,a,h){let d=!1,n=a(t,e,e?s:!1);for(;n;){if(n===t.firstChild){if(d)return!1;d=!0}const m=c?!1:n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||!K(n,h)||m)n=a(t,n,s);else return n.focus(),!0}return!1}const ae=f.forwardRef(function(e,s){const{actions:c,autoFocus:a=!1,autoFocusItem:h=!1,children:d,className:n,disabledItemsFocusable:m=!1,disableListWrap:g=!1,onKeyDown:b,variant:x="selectedMenu",...C}=e,p=f.useRef(null),R=f.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});F(()=>{a&&p.current.focus()},[a]),f.useImperativeHandle(c,()=>({adjustStyleForScrollbar:(r,{direction:i})=>{const u=!p.current.style.width;if(r.clientHeight<p.current.clientHeight&&u){const M=`${j(H(r))}px`;p.current.style[i==="rtl"?"paddingLeft":"paddingRight"]=M,p.current.style.width=`calc(100% + ${M})`}return p.current}}),[]);const D=r=>{const i=p.current,u=r.key;if(r.ctrlKey||r.metaKey||r.altKey){b&&b(r);return}const y=U(i).activeElement;if(u==="ArrowDown")r.preventDefault(),w(i,y,g,m,L);else if(u==="ArrowUp")r.preventDefault(),w(i,y,g,m,E);else if(u==="Home")r.preventDefault(),w(i,null,g,m,L);else if(u==="End")r.preventDefault(),w(i,null,g,m,E);else if(u.length===1){const o=R.current,S=u.toLowerCase(),k=performance.now();o.keys.length>0&&(k-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&S!==o.keys[0]&&(o.repeating=!1)),o.lastTime=k,o.keys.push(S);const P=y&&!o.repeating&&K(y,o);o.previousKeyMatched&&(P||w(i,y,!1,m,L,o))?r.preventDefault():o.previousKeyMatched=!1}b&&b(r)},I=A(p,s);let l=-1;f.Children.forEach(d,(r,i)=>{if(!f.isValidElement(r)){l===i&&(l+=1,l>=d.length&&(l=-1));return}r.props.disabled||(x==="selectedMenu"&&r.props.selected||l===-1)&&(l=i),l===i&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(l+=1,l>=d.length&&(l=-1))});const T=f.Children.map(d,(r,i)=>{if(i===l){const u={};return h&&(u.autoFocus=!0),r.props.tabIndex===void 0&&x==="selectedMenu"&&(u.tabIndex=0),f.cloneElement(r,u)}return r});return v.jsx(Q,{role:"menu",ref:I,className:n,onKeyDown:D,tabIndex:a?0:-1,...C,children:T})});export{V as L,ae as M,oe as d};
