var d=Object.defineProperty;var h=(t,e,r)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var o=(t,e,r)=>h(t,typeof e!="symbol"?e+"":e,r);import{r as c,R as y}from"./index-BXymfbzT.js";import{u as b}from"./useEnhancedEffect-DU8l2LAB.js";function _(t){const e=c.useRef(t);return b(()=>{e.current=t}),c.useRef((...r)=>(0,e.current)(...r)).current}function P(...t){const e=c.useRef(void 0),r=c.useCallback(n=>{const p=t.map(u=>{if(u==null)return null;if(typeof u=="function"){const f=u,a=f(n);return typeof a=="function"?a:()=>{f(null)}}return u.current=n,()=>{u.current=null}});return()=>{p.forEach(u=>u==null?void 0:u())}},t);return c.useMemo(()=>t.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=r(n))},t)}const l={};function m(t,e){const r=c.useRef(l);return r.current===l&&(r.current=t(e)),r}const E=[];function I(t){c.useEffect(t,E)}class i{constructor(){o(this,"currentId",null);o(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});o(this,"disposeEffect",()=>this.clear)}static create(){return new i}start(e,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},e)}}function x(){const t=m(i.create).current;return I(t.disposeEffect),t}function j(t){try{return t.matches(":focus-visible")}catch{}return!1}function k(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},s(t,e)}function v(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}const L=y.createContext(null);export{L as T,v as _,x as a,k as b,m as c,_ as d,i as e,j as i,P as u};
