import{r as m}from"./index-BXymfbzT.js";import{c as Y,s as W,r as wo}from"./styled-DNQA3T_q.js";import{u as Ro}from"./index-Dddp0QDY.js";import{b as ao,g as po}from"./defaultTheme-BOkF7xEx.js";import{P as Eo,b as no,o as eo,u as I,c as Po}from"./useSlot-BQqFbHN7.js";import{j as H}from"./jsx-runtime-DoEZbXM1.js";import{u as lo}from"./DefaultPropsProvider-B6e4UF29.js";import{c as uo}from"./memoTheme-DVyz49Y0.js";import{d as Co,M as To}from"./MenuList-Bc-s7-5c.js";import{G as Oo,M as No}from"./Grow-BYbp1MnB.js";function Ao(o,t){const r=o.charCodeAt(2);return o[0]==="o"&&o[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function Lo(o,t){if(!o)return t;function r(l,n){const s={};return Object.keys(n).forEach(f=>{Ao(f,n[f])&&typeof l[f]=="function"&&(s[f]=(...R)=>{l[f](...R),n[f](...R)})}),s}if(typeof o=="function"||typeof t=="function")return l=>{const n=typeof t=="function"?t(l):t,s=typeof o=="function"?o({...l,...n}):o,f=Y(l==null?void 0:l.className,n==null?void 0:n.className,s==null?void 0:s.className),R=r(s,n);return{...n,...s,...R,...!!f&&{className:f},...(n==null?void 0:n.style)&&(s==null?void 0:s.style)&&{style:{...n.style,...s.style}},...(n==null?void 0:n.sx)&&(s==null?void 0:s.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(s.sx)?s.sx:[s.sx]]}}};const c=t,C=r(o,c),u=Y(c==null?void 0:c.className,o==null?void 0:o.className);return{...t,...o,...C,...!!u&&{className:u},...(c==null?void 0:c.style)&&(o==null?void 0:o.style)&&{style:{...c.style,...o.style}},...(c==null?void 0:c.sx)&&(o==null?void 0:o.sx)&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(o.sx)?o.sx:[o.sx]]}}}function xo(o){return typeof o=="string"}function zo(o){return ao("MuiPopover",o)}po("MuiPopover",["root","paper"]);function ro(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.height/2:t==="bottom"&&(r=o.height),r}function io(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.width/2:t==="right"&&(r=o.width),r}function co(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function X(o){return typeof o=="function"?o():o}const Fo=o=>{const{classes:t}=o;return uo({root:["root"],paper:["paper"]},zo,t)},ko=W(No,{name:"MuiPopover",slot:"Root",overridesResolver:(o,t)=>t.root})({}),fo=W(Eo,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),jo=m.forwardRef(function(t,r){const c=lo({props:t,name:"MuiPopover"}),{action:C,anchorEl:u,anchorOrigin:l={vertical:"top",horizontal:"left"},anchorPosition:n,anchorReference:s="anchorEl",children:f,className:R,container:D,elevation:U=8,marginThreshold:d=16,open:g,PaperProps:G={},slots:x={},slotProps:y={},transformOrigin:v={vertical:"top",horizontal:"left"},TransitionComponent:K,transitionDuration:T="auto",TransitionProps:w={},disableScrollLock:O=!1,...q}=c,N=m.useRef(),A={...c,anchorOrigin:l,anchorReference:s,elevation:U,marginThreshold:d,transformOrigin:v,TransitionComponent:K,transitionDuration:T,TransitionProps:w},$=Fo(A),L=m.useCallback(()=>{if(s==="anchorPosition")return n;const e=X(u),a=(e&&e.nodeType===1?e:no(N.current).body).getBoundingClientRect();return{top:a.top+ro(a,l.vertical),left:a.left+io(a,l.horizontal)}},[u,l.horizontal,l.vertical,n,s]),E=m.useCallback(e=>({vertical:ro(e,v.vertical),horizontal:io(e,v.horizontal)}),[v.horizontal,v.vertical]),_=m.useCallback(e=>{const p={width:e.offsetWidth,height:e.offsetHeight},a=E(p);if(s==="none")return{top:null,left:null,transformOrigin:co(a)};const j=L();let z=j.top-a.vertical,F=j.left-a.horizontal;const V=z+p.height,S=F+p.width,oo=eo(X(u)),to=oo.innerHeight-d,so=oo.innerWidth-d;if(d!==null&&z<d){const M=z-d;z-=M,a.vertical+=M}else if(d!==null&&V>to){const M=V-to;z-=M,a.vertical+=M}if(d!==null&&F<d){const M=F-d;F-=M,a.horizontal+=M}else if(S>so){const M=S-so;F-=M,a.horizontal+=M}return{top:`${Math.round(z)}px`,left:`${Math.round(F)}px`,transformOrigin:co(a)}},[u,s,L,E,d]),[J,B]=m.useState(g),b=m.useCallback(()=>{const e=N.current;if(!e)return;const p=_(e);p.top!==null&&e.style.setProperty("top",p.top),p.left!==null&&(e.style.left=p.left),e.style.transformOrigin=p.transformOrigin,B(!0)},[_]);m.useEffect(()=>(O&&window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)),[u,O,b]);const Q=()=>{b()},P=()=>{B(!1)};m.useEffect(()=>{g&&b()}),m.useImperativeHandle(C,()=>g?{updatePosition:()=>{b()}}:null,[g,b]),m.useEffect(()=>{if(!g)return;const e=Co(()=>{b()}),p=eo(X(u));return p.addEventListener("resize",e),()=>{e.clear(),p.removeEventListener("resize",e)}},[u,g,b]);let i=T;const h={slots:{transition:K,...x},slotProps:{transition:w,paper:G,...y}},[k,mo]=I("transition",{elementType:Oo,externalForwardedProps:h,ownerState:A,getSlotProps:e=>({...e,onEntering:(p,a)=>{var j;(j=e.onEntering)==null||j.call(e,p,a),Q()},onExited:p=>{var a;(a=e.onExited)==null||a.call(e,p),P()}}),additionalProps:{appear:!0,in:g}});T==="auto"&&!k.muiSupportAuto&&(i=void 0);const ho=D||(u?no(X(u)).body:void 0),[Z,{slots:go,slotProps:yo,...vo}]=I("root",{ref:r,elementType:ko,externalForwardedProps:{...h,...q},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:x.backdrop},slotProps:{backdrop:Lo(typeof y.backdrop=="function"?y.backdrop(A):y.backdrop,{invisible:!0})},container:ho,open:g},ownerState:A,className:Y($.root,R)}),[bo,Mo]=I("paper",{ref:N,className:$.paper,elementType:fo,externalForwardedProps:h,shouldForwardComponentProp:!0,additionalProps:{elevation:U,style:J?void 0:{opacity:0}},ownerState:A});return H.jsx(Z,{...vo,...!xo(Z)&&{slots:go,slotProps:yo,disableScrollLock:O},children:H.jsx(k,{...mo,timeout:i,children:H.jsx(bo,{...Mo,children:f})})})});function Io(o){return ao("MuiMenu",o)}po("MuiMenu",["root","paper","list"]);const Ho={vertical:"top",horizontal:"right"},Wo={vertical:"top",horizontal:"left"},Do=o=>{const{classes:t}=o;return uo({root:["root"],paper:["paper"],list:["list"]},Io,t)},Uo=W(jo,{shouldForwardProp:o=>wo(o)||o==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(o,t)=>t.root})({}),Go=W(fo,{name:"MuiMenu",slot:"Paper",overridesResolver:(o,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ko=W(To,{name:"MuiMenu",slot:"List",overridesResolver:(o,t)=>t.list})({outline:0}),So=m.forwardRef(function(t,r){const c=lo({props:t,name:"MuiMenu"}),{autoFocus:C=!0,children:u,className:l,disableAutoFocusItem:n=!1,MenuListProps:s={},onClose:f,open:R,PaperProps:D={},PopoverClasses:U,transitionDuration:d="auto",TransitionProps:{onEntering:g,...G}={},variant:x="selectedMenu",slots:y={},slotProps:v={},...K}=c,T=Ro(),w={...c,autoFocus:C,disableAutoFocusItem:n,MenuListProps:s,onEntering:g,PaperProps:D,transitionDuration:d,TransitionProps:G,variant:x},O=Do(w),q=C&&!n&&R,N=m.useRef(null),A=(i,h)=>{N.current&&N.current.adjustStyleForScrollbar(i,{direction:T?"rtl":"ltr"}),g&&g(i,h)},$=i=>{i.key==="Tab"&&(i.preventDefault(),f&&f(i,"tabKeyDown"))};let L=-1;m.Children.map(u,(i,h)=>{m.isValidElement(i)&&(i.props.disabled||(x==="selectedMenu"&&i.props.selected||L===-1)&&(L=h))});const E={slots:y,slotProps:{list:s,transition:G,paper:D,...v}},_=Po({elementType:y.root,externalSlotProps:v.root,ownerState:w,className:[O.root,l]}),[J,B]=I("paper",{className:O.paper,elementType:Go,externalForwardedProps:E,shouldForwardComponentProp:!0,ownerState:w}),[b,Q]=I("list",{className:Y(O.list,s.className),elementType:Ko,shouldForwardComponentProp:!0,externalForwardedProps:E,getSlotProps:i=>({...i,onKeyDown:h=>{var k;$(h),(k=i.onKeyDown)==null||k.call(i,h)}}),ownerState:w}),P=typeof E.slotProps.transition=="function"?E.slotProps.transition(w):E.slotProps.transition;return H.jsx(Uo,{onClose:f,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?Ho:Wo,slots:{root:y.root,paper:J,backdrop:y.backdrop,...y.transition&&{transition:y.transition}},slotProps:{root:_,paper:B,backdrop:typeof v.backdrop=="function"?v.backdrop(w):v.backdrop,transition:{...P,onEntering:(...i)=>{var h;A(...i),(h=P==null?void 0:P.onEntering)==null||h.call(P,...i)}}},open:R,ref:r,transitionDuration:d,ownerState:w,...K,classes:U,children:H.jsx(b,{actions:N,autoFocus:C&&(L===-1||n),autoFocusItem:q,variant:x,...Q,children:u})})});export{So as M,xo as i,Lo as m};
